<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/style.css">
    <title>Leaderboard</title>
</head>

<body>

    <h2>
        ğŸ†
        {% if period == "day" %}Daily
        {% elif period == "month" %}Monthly
        {% else %}Weekly
        {% endif %}
        Leaderboard
    </h2>

    <p class="muted">{{ start }} â†’ {{ end }}</p>

    <a href="/leaderboard?scope=friends&period=day"><button>Daily</button></a>
    <a href="/leaderboard?scope=friends&period=week"><button>Weekly</button></a>
    <a href="/leaderboard?scope=friends&period=month"><button>Monthly</button></a>

    <a href="/leaderboard?scope=global&period=day"><button>Global Daily</button></a>
    <a href="/leaderboard?scope=global&period=week"><button>Global Weekly</button></a>
    <a href="/leaderboard?scope=global&period=month"><button>Global Monthly</button></a>


    <div style="display:flex; gap:10px;">
        <a href="/leaderboard?scope=friends"><button>ğŸ‘¥ Friends</button></a>
        <a href="/leaderboard?scope=global"><button>ğŸŒ Global</button></a>
    </div>

    <div class="leaderboard-advanced">
        {% for u in board %}
        <div class="leaderboard-row-advanced {% if loop.index == 1 %}winner{% endif %}">
            <div>
                <strong>#{{ loop.index }} {{ u.name }}</strong>
                {% if u.badge %}
                <div class="badge-text">{{ u.badge }}</div>
                {% endif %}
            </div>

            <div class="leaderboard-metrics">
                <span>â­ {{ u.score }}</span>
                <span>ğŸ“… {{ u.days }} days</span>
                <span>ğŸ”¥ {{ u.streak }}</span>
                <span>ğŸ® {{ u.rank }}</span>
            </div>
        </div>
        {% endfor %}
    </div>

    {% if my_entry and my_entry.position > 100 %}
    <div class="leaderboard-row-advanced me">
        <strong>You â€” Rank #{{ my_entry.position }}</strong>
        <span>â­ {{ my_entry.score }}</span>
        <span>ğŸ”¥ {{ my_entry.streak }}</span>
    </div>
    {% endif %}

    <div class="leaderboard-list">
        {% for u in board %}
        <div class="leaderboard-row {% if u.is_me %}me{% endif %}">
            #{{ u.position }} {{ u.name }}
        </div>
        {% endfor %}
    </div>

    {% if my_entry %}
    <div class="leaderboard-row me locked">
        You â€” Rank #{{ my_entry.position }}
        â­ {{ my_entry.score }}
    </div>
    {% endif %}

    <hr>

    <a href="/"><button>â¬… Back to Dashboard</button></a>

    <script src="/static/js/app.js"></script>

</body>

</html>